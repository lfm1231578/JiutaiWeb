@using Webdiyer.WebControls.Mvc;

@{
    ViewBag.Title = "普及率";
    Layout = null;
    int i = 0;
    var sum = ViewBag.ordersum;
}
<form action="" method="post" id="submitform">
    <table class="gridTable" style="border-collapse: collapse;">
        <thead>
            <tr>
                <th>
                    类别
                </th>
                <th>
                    营业额
                </th>
                <th>
                    占比
                </th>
                <th>
                    排名
                </th>

            </tr>
        </thead>
        <tbody>
            @foreach (var entity in Model)
            {
                i = i + 1;
                <tr>
                    <td>
                        @entity.Name
                </td>
                <td>
                    @entity.Price
            </td>
                <td>
                    @*@(Math.Round(entity.ActurePrice, 2, MidpointRounding.AwayFromZero) * 100 + "%")*@

                    @((Convert.ToDouble(entity.Price) <= 0 ? 0.00 : (Convert.ToDouble(entity.Price) * 100 / Convert.ToDouble(sum))).ToString("0.00") + "%")
                </td>
        <td>
            @i
        </td>

    </tr>

}
            @*       @Html.Raw(HS.SupportComponents.NoRecord.NoRecords(Model.Count, 10))*@
        </tbody>
    </table>

</form>
<script type="text/javascript">
    //打开普及率详情
    function OpenPopularityDetail(ProdcuitID, Type, HospitalID) {
        var s_StareTime = $("#s_StareTime").val();
        var s_Endtime = $("#s_Endtime").val();
        art.dialog.open("/CenterManage/PopularityRateDetail?ProdcuitID=" + ProdcuitID + "&s_ID=" + Type + "&s_StareTime=" + s_StareTime + "&s_Endtime=" + s_Endtime + "&s_HospitalID=" + HospitalID, { title: "普及率详情", width: 670, height: 500 });
    }

</script>
<script src="/Scripts/ymx/commonTable.js"></script>
