@using Webdiyer.WebControls.Mvc;
@model PagedList<EYB.ServiceEntity.ReservationEntity.LeaveRecordsEntity>
    @{
        Layout = null;
    }

    <form action="" method="post" id="submitform">
        <input type="hidden" value="" name="orderDirection" id="orderDirection" />
        <input type="hidden" value="" name="orderField" id="orderField" />
        <table class="gridTable" style="border-collapse: collapse;">
            <thead>
                <tr>
                    <th orderfield="">
                        员工姓名
                    </th>
                    <th>
                        创建时间
                    </th>
                    <th orderfield="">
                        开始时间
                    </th>
                    <th orderfield="">
                        结束时间
                    </th>
                    <th>
                        请假天数
                    </th>
                    <th>
                        请假类别
                    </th>
                    <th>
                        请假原因
                    </th>
                    <th>
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var entity in Model)
                {
                    <tr>
                        <td>
                            @entity.UserName
                        </td>
                        <td>
                            @entity.Dateleave
                        </td>
                        <td>
                            @entity.StartTime @*@entity.StartLeave*@
                        </td>
                        <td>
                            @entity.EndTime @*@entity.EndLeave*@
                        </td>
                        <td>
                            @entity.NumDay
                        </td>
                        <td>
                            @entity.category
                            @*@if (entity.category == 1)
                            {
                                <label>事假</label>
                            }
                            else if (entity.category == 2)
                            {
                                <label>病假</label>
                            }
                            else if (entity.category == 3)
                            {
                                <label>长假</label>
                            }
                            else if (entity.category == 9)
                            {
                                <label>其他</label>
                            }
                            else
                            {
                                <label>无</label>
                            }*@

                        </td>
                        <td>
                            @entity.Memo
                        </td>
                        <td>
                            <a href="javascript:OpenDailogDetail('Edit',@entity.ID);">编辑</a>
                            @*@if (entity.State == 2)
                            {
                                <a href="javascript:;" onclick="DeleteData(@entity.ID,1)">启用</a>
                            }
                            else
                            { }*@
                                <a href="javascript:;" style="color: red;" onclick="DeleteData(@entity.ID,2)">删除</a>
                            
                        </td>
                        @*  <td>
                                <a href="javascript:OpenOrderDetail('@entity.ID');" >详情</a>
                            </td>*@
                    </tr>
                }
                @*<tr></tr>
                    @Html.Raw(HS.SupportComponents.NoRecord.NoRecords(Model.Count, 8))*@
            </tbody>
        </table>
        @*@Ajax.Pager(Model, new PagerOptions { PageIndexParameterName = "pageNum", PagerItemsSeperator = "", ShowPageIndexBox = false, CurrentPagerItemWrapperFormatString = "<span class=\"current\">{0}</span>" }, new MvcAjaxOptions { UpdateTargetId = "articles", HttpMethod = "Post", DataFormId = "searchForm" }, new { id = "badoopager" })*@
        @Html.Pager(Model, new PagerOptions { PageIndexParameterName = "pageNum", PagerItemsSeperator = "", ShowPageIndexBox = false, CurrentPagerItemWrapperFormatString = "<span class=\"current\">{0}</span>" }, new { id = "badoopager" })

    </form>
    <script type="text/javascript">
        $(function () {
            $("#sp").text('@Model.TotalItemCount');
        })
    </script>
