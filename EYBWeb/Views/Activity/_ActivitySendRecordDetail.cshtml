@using Webdiyer.WebControls.Mvc;
@model PagedList<EYB.ServiceEntity.ActivityEntity.ActivityJoinEntity>
@{
    Layout = null;
    var str = "";
    var xuhao = 0;
}
<form action="" method="post" id="searchForm">
    <input type="hidden" value="" name="orderDirection" id="orderDirection" />
    <input type="hidden" value="" name="orderField" id="orderField" />
    <table class="gridTable" id="proudectList" style="height: auto; border-collapse: collapse;
    margin: 0px; width: 100%;" cellpadding="0" cellspacing="0">
        <thead>
        <tr>
            <th></th>
            <th>
                所属门店
            </th>
            <th>
                姓名
            </th>
            <th style="display: none;">
                卡号
            </th>
            <th>
                手机
            </th>
            <th>
                微信昵称
            </th>
            <th>
                活动名称
            </th>
            <th>
                活动价值
            </th>
            <th>
                券号
            </th>
            <th>
                发送日期
            </th>
            <th>
                过期时间
            </th>
            <th>
                使用状态
            </th>
            <th>
                领取状态
            </th>
            <th>
                领取时间
            </th>
            <th>
                发送员工
            </th>
            <th style="display: none;" >
                分享人
            </th>
        </tr>
        </thead>
        <tbody>
        @foreach (var entity in Model)
        {
            xuhao += 1;

            <tr class="ableclick">
                <td>@xuhao</td>
                <td>
                    @entity.HospitalName
                </td>
                <td>
                    @entity.CustomerUserName
                </td>
                <td style="display: none;">
                    @entity.Phone
                </td>
                <td>
                    @entity.Phone
                </td>
                <td>
                    @entity.WeChatNickname
                </td>
                <td>
                    @entity.ActivityName
                </td>
                <td>
                    @entity.Amount
                </td>
                <td>
                    @entity.CouponNo
                </td>
                <td>
                    @entity.CreateTime
                </td>
                <td>
                    @entity.ExpiresTime
                </td>
                <td>
                    @if (entity.State == 1)
                    {
                        str = "有效";
                    }
                    else if (entity.State == 2)
                    {
                        str = "已用完";
                    }
                    else if (entity.State == 9)
                    {
                        str = "过期";
                    }
                     @str
                </td>
                <td>
                    @if (entity.ReceiveState == 0)
                    {
                        str = "未领取";
                    }
                    else if (entity.ReceiveState == 1)
                    {
                        str = "已领取";
                    }
                     @str
                </td>
                <td>
                    @entity.ReceiveTime
                </td>
                <td>
                    @entity.SendUserName
                </td>
                <td style="display: none;" >
                    @entity.ShareUserName
                </td>
            </tr>
        }
        </tbody>
    </table>
    @Html.Pager(Model, new PagerOptions { PageIndexParameterName = "pageNum", PagerItemsSeperator = "", ShowPageIndexBox = false, CurrentPagerItemWrapperFormatString = "<span class=\"current\">{0}</span>" }, new { id = "badoopager" })
</form>
